{"version":3,"sources":["components/Notification.js","context.js","components/Sections/Header.js","components/Sections/Footer.js","config.js","components/Cards/Applicants.js","components/FulfilModal.js","components/Sections/Map.js","pages/Home.js","components/Forms/Login.js","pages/Login.js","components/Forms/Registration.js","pages/Register.js","components/Forms/Task.js","pages/AddTask.js","components/AuthRoute.js","App.js","reducer.js","index.js"],"names":["className","role","aria-live","aria-atomic","type","data-dismiss","aria-label","aria-hidden","createContext","user","theme","tasks","notifications","id","status","useContext","Context","state","dispatch","filter","n","to","data-toggle","data-target","aria-controls","aria-expanded","token","aria-haspopup","Object","keys","length","aria-labelledby","map","notification","i","key","onClick","Notification","data","Date","getFullYear","href","target","rel","title","name","applicants","a","first_name","last_name","FulfilModal","task","setFulfilment","fulfil","useState","setApplicants","useEffect","axios","get","config","headers","Authorization","req","console","log","fetchApplicants","tabIndex","task_type","split","string","charAt","toUpperCase","slice","capitalizeFirstLetter","short_description","created_at","user_id","Applicants","Map","mapRef","useRef","window","google","maps","current","center","lat","lng","zoom","navigator","geolocation","getCurrentPosition","position","setCenter","coords","latitude","longitude","icon","marker","Marker","url","scaledSize","Size","addListener","addMarkers","ref","style","height","setTasks","fulfilment","response","fetchTasks","post","task_id","ex","submit","setData","handleChange","e","value","onSubmit","event","preventDefault","htmlFor","placeholder","required","autoFocus","email","onChange","password","history","error","setError","resp","payload","push","message","Login","firstName","lastName","picture","doc","errors","setErrors","success","files","validate","validator","isLength","min","max","isEmail","isMimeType","formData","FormData","append","getAll","global","accept","disabled","props","document","Registration","setCurrent","date","location","setTimeout","handleLocationChange","draggable","defaultValue","moment","format","maxLength","minLength","AddTask","validation","setValidation","Task","pathname","App","Header","exact","path","component","Home","Register","Footer","localStorage","setItem","removeItem","Root","initialState","useReducer","reducer","getItem","decoded","jwt_decode","Provider","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.9ecc2395.chunk.js","sourcesContent":["import React from \"react\";\n\nexport default () => {\n  return (\n    <div\n      className=\"toast\"\n      role=\"alert\"\n      aria-live=\"assertive\"\n      aria-atomic=\"true\"\n    >\n      <div className=\"toast-header\">\n        {/* <img src=\"...\" className=\"rounded mr-2\" alt=\"...\"> */}\n        <strong className=\"mr-auto\">Bootstrap</strong>\n        <small className=\"text-muted\">just now</small>\n        <button\n          type=\"button\"\n          className=\"ml-2 mb-1 close\"\n          data-dismiss=\"toast\"\n          aria-label=\"Close\"\n        >\n          <span aria-hidden=\"true\">&times;</span>\n        </button>\n      </div>\n      <div className=\"toast-body\">See? Just like this.</div>\n    </div>\n  );\n};\n","import { createContext } from \"react\";\n\nexport default createContext({\n  user: {},\n  theme: \"light\",\n  tasks: [],\n  notifications: [\n    { id: 1, status: 0 },\n    { id: 2, status: 0 },\n    { id: 1, status: 1 },\n  ],\n});\n","import React, { useContext } from \"react\";\nimport Notification from \"../Notification\";\nimport Context from \"../../context\";\n\nimport { Link, NavLink } from \"react-router-dom\";\n\nexport default () => {\n  const { state, dispatch } = useContext(Context);\n\n  const notifications = state.notifications.filter((n) => n.status === 5);\n\n  // console.log({ notifications });\n  return (\n    <>\n      <nav className=\"navbar navbar-expand-md navbar-dark bg-dark\">\n        <Link className=\"navbar-brand\" to=\"/\">\n          COMMUNIF\n        </Link>\n        <button\n          className=\"navbar-toggler\"\n          type=\"button\"\n          data-toggle=\"collapse\"\n          data-target=\"#navbarsExampleDefault\"\n          aria-controls=\"navbarsExampleDefault\"\n          aria-expanded=\"false\"\n          aria-label=\"Toggle navigation\"\n        >\n          <span className=\"navbar-toggler-icon\"></span>\n        </button>\n\n        <div className=\"collapse navbar-collapse\" id=\"navbarsExampleDefault\">\n          <ul className=\"navbar-nav ml-auto\">\n            <li className=\"nav-item\">\n              <NavLink className=\"nav-link\" to=\"/home\">\n                Home\n              </NavLink>\n            </li>\n            {state.user.token ? (\n              <>\n                {/* <li className=\"nav-item ml-4\">\n                  <NavLink className=\"nav-link\" to=\"/users\">\n                    Users\n                  </NavLink>\n                </li> */}\n                <li className=\"nav-item ml-4\">\n                  <NavLink className=\"nav-link\" to=\"/addtask\">\n                    Add new request\n                  </NavLink>\n                </li>\n\n                <li className=\"nav-item dropdown\">\n                  <span\n                    className=\"nav-link dropdown-toggle\"\n                    // href=\"#\"\n                    // id=\"navbarDropdown\"\n                    role=\"button\"\n                    data-toggle=\"dropdown\"\n                    aria-haspopup=\"true\"\n                    aria-expanded=\"false\"\n                  >\n                    <i\n                      className={`fas fa-bell ${\n                        Object.keys(state.notifications).length > 0\n                          ? `text-danger`\n                          : ``\n                      }`}\n                    ></i>\n                  </span>\n                  <ul\n                    className=\"dropdown-menu\"\n                    aria-labelledby=\"navbarDropdown\"\n                  >\n                    {state.notifications.map((notification, i) => (\n                      <li\n                        key={i}\n                        className={`dropdown-item ${\n                          notification.status === 0 ? `active` : ``\n                        }`}\n                      >\n                        <Link\n                          to=\"/\"\n                          className={`${\n                            notification.status === 0 ? `active` : ``\n                          }`}\n                        >\n                          {notification.id}\n                        </Link>\n                      </li>\n                    ))}\n                  </ul>\n                </li>\n                <li className=\"nav-item ml-4\">\n                  <button\n                    className=\"btn btn-outline-light\"\n                    onClick={() => dispatch({ type: \"USER_LOGOUT\" })}\n                  >\n                    Logout\n                  </button>\n                </li>\n              </>\n            ) : (\n              <>\n                <li className=\"nav-item ml-4\">\n                  <NavLink className=\"btn btn-outline-light\" to=\"/login\">\n                    Login\n                  </NavLink>\n                </li>\n                <li className=\"nav-item ml-4\">\n                  <NavLink className=\"btn btn-light\" to=\"/register\">\n                    Register\n                  </NavLink>\n                </li>\n              </>\n            )}\n          </ul>\n        </div>\n      </nav>\n      {notifications.length > 0 &&\n        notifications.map((n) => <Notification data={n} />)}\n    </>\n  );\n};\n","import React from \"react\";\nimport \"../../sass/sections/footer.scss\";\n\nexport default () => (\n  <footer>\n    <div className=\"container py-4\">\n      <div className=\"row\">\n        <div className=\"col\">\n          <h4>Quicklinks</h4>\n          <ul className=\"list-group\">\n            <li className=\"\">Register</li>\n            <li className=\"\">Login</li>\n          </ul>\n        </div>\n        <div className=\"col\">\n          <p>\n            All rights reserved - COMMUNIF - Copyright{\" \"}\n            {new Date().getFullYear()}\n          </p>\n        </div>\n        <div className=\"col\">\n          <ul className=\"py-4 w-100 d-inline-flex justify-content-around flex-wrap\">\n            <li className=\"facebook\">\n              <a\n                href=\"https://www.facebook.com\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                title=\"Facebook\"\n              >\n                <ion-icon name=\"logo-facebook\"></ion-icon>\n              </a>\n            </li>\n            <li className=\"youtube\">\n              <a\n                href=\"https://www.youtube.com\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                title=\"Youtube\"\n              >\n                <ion-icon name=\"logo-youtube\"></ion-icon>\n              </a>\n            </li>\n            <li className=\"instagram\">\n              <a\n                href=\"https://www.instagram.com\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                title=\"Instagram\"\n              >\n                <ion-icon name=\"logo-instagram\"></ion-icon>\n              </a>\n            </li>\n            <li className=\"twitter\">\n              <a\n                href=\"https://www.twitter.com\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                title=\"Twitter\"\n              >\n                <ion-icon name=\"logo-twitter\"></ion-icon>\n              </a>\n            </li>\n          </ul>\n        </div>\n      </div>\n    </div>\n  </footer>\n);\n","export default {\n  GMAPS_API_KEY: \"AIzaSyA284dTLHDi3tcIt607zJr8dVZSTSR4g1s\",\n  GMAPS_API_ZOOM: 12,\n  GMAPS_API_CENTER: {\n    lat: 40.02,\n    lng: -105.3,\n  },\n  API_URL: \"http://localhost:3000/api/v1\"\n};\n","import React from \"react\";\n\nexport default ({ applicants }) => {\n  return applicants.length === 0 ? (\n    <ul>\n      <li>No applicants found</li>\n    </ul>\n  ) : (\n    <ul className=\"list-group\">\n      {applicants.map((a) => (\n        <li className=\"list-group-item d-flex justify-content-between\">\n          <div>\n            {a.first_name} {a.last_name}\n          </div>\n          <div>\n            <button className=\"btn btn-sm btn-danger\">&times;</button>\n            <button className=\"btn btn-sm btn-success\">&#10004;</button>\n          </div>\n        </li>\n      ))}\n    </ul>\n  );\n};\n","import React, { useState, useContext, useEffect } from \"react\";\nimport Context from \"../context\";\nimport axios from \"axios\";\nimport config from \"../config\";\nimport Applicants from \"./Cards/Applicants\";\n\nconst FulfilModal = ({ task, setFulfilment, fulfil }) => {\n  const { state } = useContext(Context);\n\n  const [applicants, setApplicants] = useState([]);\n\n  // console.log({ user: state.user });\n\n  const capitalizeFirstLetter = (string) => {\n    return string.charAt(0).toUpperCase() + string.slice(1) + \" \";\n  };\n\n  // useEffect(() => {\n  //   if (state.user.user_id === task.user_id) {\n  //     fetchApplicants();\n  //   }\n  // }, [state.user, task]);\n\n  useEffect(() => {\n    const fetchApplicants = async () => {\n      const req = await axios.get(`${config.API_URL}/applicants/${task.id}`, {\n        headers: { Authorization: `bearer ${state.user.token}` },\n      });\n\n      setApplicants(req.data);\n      console.log(\"app data\", req);\n      console.log(\"Request applicants...\");\n    };\n\n    fetchApplicants();\n  }, [state.user.token, task.id]);\n\n  // /v1/tasks/2/applicants\n  // /v1/applicants/2\n\n  return (\n    <div className=\"modal d-block\" tabIndex=\"-1\">\n      <div className=\"modal-dialog\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <h5 className=\"modal-title\">\n              {task.id} -\n              {task.task_type\n                .split(\"-\")\n                .map((string) => capitalizeFirstLetter(string))}\n            </h5>\n            <button\n              type=\"button\"\n              className=\"close\"\n              data-dismiss=\"modal\"\n              aria-label=\"Close\"\n              onClick={() => setFulfilment({})}\n            >\n              <span aria-hidden=\"true\">&times;</span>\n            </button>\n          </div>\n          <div className=\"modal-body\">\n            <p>{task.short_description}</p>\n          </div>\n          <div className=\"modal-footer d-block\">\n            <div className=\"d-flex justify-content-between\">\n              <small className=\"text-muted\">{task.created_at}</small>\n              <span>\n                {applicants ? Object.keys(applicants).length : 0} applicants\n              </span>\n            </div>\n            {state.user.user_id === task.user_id ? (\n              <Applicants applicants={applicants} />\n            ) : (\n              <button\n                type=\"button\"\n                className=\"btn btn-primary\"\n                onClick={fulfil}\n              >\n                Fulfil\n              </button>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\nexport default FulfilModal;\n","import React, { useRef, useEffect } from \"react\";\n\nconst Map = ({ tasks, setFulfilment }) => {\n  const mapRef = useRef();\n\n  const addMarkers = (map) => {\n    tasks.map((task) => {\n      let icon =\n        \"https://unpkg.com/ionicons@5.2.3/dist/svg/people-circle-outline.svg\";\n      icon =\n        task.task_type === \"material-need\"\n          ? \"https://unpkg.com/ionicons@5.2.3/dist/svg/bag-remove-outline.svg\"\n          : icon;\n\n      const marker = new window.google.maps.Marker({\n        position: { lat: task.lat, lng: task.lng },\n        map,\n        title: task.task_type,\n        icon: {\n          url: icon,\n          scaledSize: new window.google.maps.Size(24, 24), // scaled size\n        },\n      });\n      marker.addListener(\"click\", () => {\n        setFulfilment(task);\n      });\n\n      return marker;\n    });\n  };\n\n  useEffect(() => {\n    if (window.google) {\n      const map = new window.google.maps.Map(mapRef.current, {\n        center: { lat: -34.397, lng: 150.644 },\n        zoom: 12,\n      });\n\n      // navigator.geolocation.getCurrentPosition(({ coords }) => {\n      //   console.log({ coords });\n      // });\n\n      navigator.geolocation.getCurrentPosition((position) => {\n        console.log({ map });\n\n        console.log({\n          position,\n        });\n        map.setCenter({\n          lat: position.coords.latitude,\n          lng: position.coords.longitude,\n        });\n      });\n\n      addMarkers(map);\n\n      // tasks.length > 0 &&\n      //   map.setCenter({ lat: tasks[0].lat, lng: tasks[0].lng });\n    }\n  }, [window.google]);\n\n  return <div ref={mapRef} className={\"w-100\"} style={{ height: 500 }}></div>;\n};\n\nexport default Map;\n","import React, { useEffect, useState, useContext } from \"react\";\nimport axios from \"axios\";\nimport FulfilModal from \"../components/FulfilModal\";\nimport Map from \"../components/Sections/Map\";\nimport config from \"../config\";\nimport Context from \"../context\";\n\nimport \"../sass/pages/home.scss\";\n\nexport default () => {\n  const [tasks, setTasks] = useState([]);\n  const [fulfilment, setFulfilment] = useState({});\n\n  const { state } = useContext(Context);\n\n  useEffect(() => {\n    const fetchTasks = async () => {\n      try {\n        const { data } = await axios(`${config.API_URL}/tasks`, {\n          headers: { Authorization: `bearer ${state.user.token}` },\n        });\n        setTasks(data);\n      } catch (error) {\n        console.log(error.response.data);\n      }\n    };\n    fetchTasks();\n  }, [state.user]);\n\n  const fulfil = async () => {\n    try {\n      const { data } = axios.post(\n        `${config.API_URL}/fulfil`,\n        { task_id: fulfilment.id },\n        {\n          headers: { Authorization: `bearer ${state.user.token}` },\n        }\n      );\n    } catch (ex) {}\n  };\n\n  return (\n    <div className=\"home\">\n      {Object.keys(fulfilment).length > 0 && (\n        <FulfilModal\n          task={fulfilment}\n          setFulfilment={setFulfilment}\n          fulfil={fulfil}\n        />\n      )}\n      <Map\n        className=\"map-wrapper\"\n        tasks={tasks}\n        setFulfilment={setFulfilment}\n      />\n    </div>\n  );\n};\n","import React, { useState } from \"react\";\n// import validator from \"validator\";\n// import Context from \"../../context\";\n\nexport default ({ submit }) => {\n  const [data, setData] = useState({});\n\n  const onSubmit = (event) => {\n    event.preventDefault();\n    submit(data);\n  };\n\n  const handleChange = (e) => {\n    setData({ ...data, [e.target.name]: e.target.value });\n  };\n\n  return (\n    <section>\n      <div className=\"row\">\n        <div className=\"col-4 mx-auto\">\n          <form className=\"form-signin my-4\" onSubmit={onSubmit}>\n            <h1 className=\"h3 mb-3 font-weight-normal\">Please sign in</h1>\n            <label htmlFor=\"inputEmail\" className=\"sr-only\">\n              Email address\n            </label>\n            <input\n              type=\"email\"\n              id=\"inputEmail\"\n              name=\"email\"\n              className=\"form-control my-2\"\n              placeholder=\"Email address\"\n              required\n              autoFocus\n              value={data.email}\n              onChange={handleChange}\n            />\n            <label htmlFor=\"inputPassword\" className=\"sr-only\">\n              Password\n            </label>\n            <input\n              type=\"password\"\n              id=\"inputPassword\"\n              name=\"password\"\n              value={data.password}\n              className=\"form-control my-2\"\n              placeholder=\"Password\"\n              required\n              onChange={handleChange}\n            />\n            <div className=\"checkbox mb-3\">\n              <label>\n                <input type=\"checkbox\" value=\"remember-me\" /> Remember me\n              </label>\n            </div>\n            <button className=\"btn btn-lg btn-primary btn-block\" type=\"submit\">\n              Sign in\n            </button>\n          </form>\n        </div>\n      </div>\n    </section>\n  );\n};\n","import React, { useContext, useState } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport Context from \"../context\";\nimport axios from \"axios\";\n\nimport LoginForm from \"../components/Forms/Login\";\n\nexport default ({ history }) => {\n  const { state, dispatch } = useContext(Context);\n  const [error, setError] = useState(\"\");\n\n  const submit = async (data) => {\n    console.log(data);\n\n    try {\n      const resp = await axios.post(\"http://localhost:3000/api/v1/login\", data);\n      if (resp.status === 200) {\n        dispatch({ type: \"USER_LOGIN\", payload: { token: resp.data.token } });\n        history.push(\"/home\");\n      }\n    } catch (ex) {\n      setError(ex.response.data.error);\n      console.log(\"Error:\", ex.message);\n    }\n\n    // dispatch({\n    //   type: \"USER_LOGIN\",\n    //   payload: { token: \"asdasd\" },\n    // });\n  };\n\n  if (state.user.token) {\n    return <Redirect to=\"/home\" />;\n  }\n  console.log(\"Error:\", error);\n  return (\n    <div>\n      <LoginForm submit={submit} />\n      {error && <div className=\"alert alert-danger\">{error}</div>}\n    </div>\n  );\n};\n","import React, { useState } from \"react\";\nimport validator from \"validator\";\nimport \"../../sass/forms/registration.scss\";\n\nexport default ({ submit }) => {\n  const initialState = {\n    firstName: \"João\",\n    lastName: \"Narciso\",\n    email: \"joao@email.com\",\n    picture: null,\n    doc: \"\",\n  };\n  const [data, setData] = useState(initialState);\n  const [errors, setErrors] = useState({});\n  const [success] = useState(false);\n\n  const handleChange = (e) => {\n    const { name, value, type } = e.target;\n\n    if (type === \"file\") {\n      setData({ ...data, [name]: e.target.files[0] });\n    } else {\n      setData({ ...data, [name]: value });\n    }\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    const errors = validate(data);\n\n    if (Object.keys(errors).length > 0) {\n      setErrors(errors);\n    } else {\n      const formData = new FormData();\n      formData.append(\"picture\", data.picture);\n      console.log(formData.getAll(\"picture\"));\n      console.log(data.picture);\n      //submit({ ...data, picture: formData });\n      // const user = {\n      //   first_name: data.firstName,\n      //   last_name: data.lastName,\n      //   email: data.email,\n      //   doc: formData\n      // };\n    }\n  };\n\n  const validate = (data) => {\n    const errors = {};\n\n    if (!data.firstName) {\n      errors.firstName = \"Enter your first name.\";\n    } else if (!validator.isLength(data.firstName, { min: 2, max: 50 })) {\n      errors.firstName = \"Min 2 characters and max 50 characters.\";\n    }\n\n    if (!data.lastName) {\n      errors.lastName = \"Enter your last name.\";\n    } else if (!validator.isLength(data.lastName, { min: 2, max: 50 })) {\n      errors.name = \"Min 2 characters and max 50 characters.\";\n    }\n    if (!data.email) {\n      errors.email = \"Enter an E-mail address.\";\n    } else if (!validator.isEmail(data.email)) {\n      errors.email = \"Enter a valid E-mail address.\";\n    }\n\n    if (!data.doc) {\n      errors.doc = \"Please provide a valid Government ID\";\n    } else if (!validator.isMimeType(data.doc.type)) {\n      errors.doc = \"Please provide a valid file ( pdf, png or jpg ).\";\n    }\n    if (!data.picture) {\n      errors.picture = \"Please provide a valid Government ID\";\n    } else if (!validator.isMimeType(data.picture.type)) {\n      errors.picture = \"Please provide a valid file ( pdf, png or jpg ).\";\n    }\n\n    return errors;\n  };\n  !!errors.firstName && console.log({ errors });\n\n  return (\n    <div className=\"container py-4 my-4\" id=\"registration\">\n      <h3>Register now</h3>\n      <form onSubmit={handleSubmit}>\n        {success && (\n          <div className=\"alert alert-success\" role=\"alert\">\n            Your information has been sent!\n          </div>\n        )}\n        {!!errors.global && (\n          <div className=\"alert alert-danger\" role=\"alert\">\n            ${errors.global}\n          </div>\n        )}\n        <div className=\"form-group\">\n          <label htmlFor=\"firstName\">First name</label>\n          <input\n            type=\"text\"\n            className={`form-control ${!!errors.firstName ? \"is-invalid\" : \"\"}`}\n            id=\"firstName\"\n            placeholder=\"First Name\"\n            name=\"firstName\"\n            value={data.firstName}\n            onChange={handleChange}\n          />\n\n          {!!errors.firstName && (\n            <div className=\"invalid-feedback\">{errors.firstName}</div>\n          )}\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"lastName\">Last name</label>\n          <input\n            type=\"text\"\n            className={`form-control ${!!errors.lastName ? \"is-invalid\" : \"\"}`}\n            id=\"lastName\"\n            name=\"lastName\"\n            placeholder=\"Last Name\"\n            value={data.lastName}\n            onChange={handleChange}\n          />\n          {!!errors.lastName && (\n            <div className=\"invalid-feedback\">{errors.lastName}</div>\n          )}\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"email\">E-mail address</label>\n          <input\n            type=\"email\"\n            className={`form-control ${!!errors.email ? \"is-invalid\" : \"\"}`}\n            id=\"email\"\n            placeholder=\"E-mail Address\"\n            name=\"email\"\n            value={data.email}\n            onChange={handleChange}\n          />\n          {!!errors.email && (\n            <div className=\"invalid-feedback\">{errors.email}</div>\n          )}\n        </div>\n        <div className=\"form-group\">\n          <label htmlFor=\"doc\">Government ID</label>\n          <input\n            type=\"file\"\n            accept=\"image/png,image/jpg, application/pdf\"\n            className={`form-control form-control-file ${\n              !!errors.doc ? \"is-invalid\" : \"\"\n            }`}\n            value=\"\"\n            onChange={handleChange}\n            id=\"doc\"\n            name=\"doc\"\n          />\n\n          {!!errors.picture ? (\n            <div className=\"invalid-feedback\">{errors.picture}</div>\n          ) : (\n            <small id=\"emailHelp\" className=\"form-text text-danger\">\n              Invalid file format.\n            </small>\n          )}\n        </div>{\" \"}\n        <div className=\"form-group\">\n          <label htmlFor=\"picture\">Profile picture</label>\n          <input\n            type=\"file\"\n            accept=\"image/png,image/jpg, application/pdf\"\n            className={`form-control form-control-file ${\n              !!errors.picture ? \"is-invalid\" : \"\"\n            }`}\n            value=\"\"\n            onChange={handleChange}\n            id=\"picture\"\n            name=\"picture\"\n          />\n\n          {!!errors.doc ? (\n            <div className=\"invalid-feedback\">{errors.doc}</div>\n          ) : (\n            <small id=\"emailHelp\" className=\"form-text text-danger\">\n              Invalid file format.\n            </small>\n          )}\n        </div>\n        <button\n          type=\"submit\"\n          disabled={success ? true : false}\n          className={`btn ${success ? \"disabled\" : \"\"}`}\n        >\n          Register\n        </button>\n      </form>\n    </div>\n  );\n};\n","import React from \"react\";\n// import axios from \"axios\";\nimport Registration from \"../components/Forms/Registration\";\nimport \"../sass/pages/register.scss\";\n\nexport default (props) => {\n  // console.log(props);\n  const submit = async (data) => {\n    //console.log(data);\n    const user = {\n      email: data.email,\n      first_name: data.firstName,\n      last_name: data.lastName,\n      document: \"true\",\n      status: \"1\",\n      picture: data.picture,\n    };\n\n    console.log(user);\n\n    // try {\n    //   const resp = await axios.post(\"http://localhost:3000/api/v1/users\", user);\n    //   if (resp.status === 201) {\n    //     props.history.push(\"/login\");\n    //   }\n    // } catch (error) {\n    //   console.log(error);\n    // }\n  };\n  return (\n    <section id=\"register\">\n      <div className=\"container\">\n        <div className=\"row py-2\">\n          <div className=\"col-lg-4 ml-auto\">\n            <Registration submit={submit} />\n          </div>\n        </div>\n      </div>\n    </section>\n  );\n};\n","import React, { useState, useEffect, useRef } from \"react\";\nimport moment from \"moment\";\n\nexport default ({ submit }) => {\n  const mapRef = useRef();\n\n  const [current, setCurrent] = useState({ lat: 51.2, lng: 6.78 });\n  const [data, setData] = useState({\n    date: \"\",\n    task_type: \"material-need\",\n    short_description:\n      \"This is the task's short description, with minimum of 50 characters\",\n  });\n  const [errors, setErrors] = useState({});\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n\n    setData({ ...data, [name]: value });\n  };\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    const errors = validate();\n    if (Object.keys(errors).length > 0) {\n      setErrors(errors);\n    } else {\n      submit(data);\n    }\n  };\n\n  const handleLocationChange = (marker) => {\n    window.google.maps.event.addListener(marker, \"dragend\", function (e) {\n      setTimeout(() => {\n        console.log({ e });\n      }, 500);\n    });\n    console.log({ marker }); // Set new location\n    // setData({ ...data, location: position });\n  };\n\n  const validate = () => {\n    const errors = {};\n\n    if (!data.short_description) {\n      errors.short_description = \"Enter your task's short description\";\n    }\n    if (\n      data.short_description.length < 50 ||\n      data.short_description.length > 300\n    ) {\n      errors.short_description =\n        \"The short description has to be between 50 and 300 characters long.\";\n    }\n    if (!data.task_type) {\n      errors.task_type = \"Select the type of task\";\n    }\n    return errors;\n  };\n\n  useEffect(() => {\n    const map = new window.google.maps.Map(mapRef.current, {\n      center: { lat: -34.397, lng: 150.644 },\n      zoom: 10,\n    });\n\n    navigator.geolocation.getCurrentPosition((position) => {\n      const location = {\n        lat: position.coords.latitude,\n        lng: position.coords.longitude,\n      };\n      setCurrent(location);\n      map.setCenter(location);\n      const marker = new window.google.maps.Marker({\n        position: location,\n        map,\n        draggable: true,\n      });\n      handleLocationChange(marker);\n\n      setData({\n        ...data,\n        ...location,\n      });\n    });\n  }, [window.google]);\n\n  console.log({ errors, data });\n  console.log(\"current\", current);\n  return (\n    <section className=\"py-5\">\n      <h2>Add a new request</h2>\n\n      <form onSubmit={handleSubmit}>\n        <div className=\"row\">\n          <div className=\"col-md-6 mb-3\">\n            <label htmlFor=\"task_type\">Type</label>\n            <select\n              name=\"task_type\"\n              className={`form-control ${\n                !!errors.task_type ? `is-invalid` : \"\"\n              }`}\n              id=\"task_type\"\n              onChange={handleChange}\n              defaultValue={data.task_type}\n            >\n              <option disabled value=\"\">\n                Select\n              </option>\n              <option value=\"one-time-task\">One-time task</option>\n              <option value=\"material-need\">Material need</option>\n            </select>\n            {!!errors.task_type && (\n              <div className=\"invalid-feedback\">{errors.task_type}</div>\n            )}\n          </div>\n          <div className=\"col-md-6 mb-3\">\n            <label htmlFor=\"datetime\">Date/Time</label>\n            <input\n              className={`form-control`}\n              onChange={handleChange}\n              id=\"datetime\"\n              type=\"datetime\"\n              name=\"date\"\n              type=\"datetime-local\"\n              min={moment().format(\"YYYY[-]MM[-]DD[T]HH:m\")}\n            />\n          </div>\n          {console.log(moment().format())}\n          <div className=\"col-md-12 mb-3\">\n            <label htmlFor=\"short_description\">Description</label>\n            <textarea\n              name=\"short_description\"\n              className={`form-control ${\n                !!errors.short_description ? `is-invalid` : \"\"\n              }`}\n              id=\"short_description\"\n              placeholder=\"\"\n              onChange={handleChange}\n              value={data.short_description}\n              maxLength=\"300\"\n              minLength=\"50\"\n              //required=\"\"\n            />\n            {!!errors.short_description && (\n              <div className=\"invalid-feedback\">{errors.short_description}</div>\n            )}\n          </div>\n        </div>\n        <div className=\"col-md-12\">\n          <strong>Please pick your task's location</strong>\n          <div ref={mapRef} style={{ height: \"300px\" }} />\n        </div>\n        <hr className=\"mb-4\" />\n        <button className=\"btn btn-primary btn-lg btn-block\" type=\"submit\">\n          Submit\n        </button>\n      </form>\n    </section>\n  );\n};\n","import React, { useContext, useState } from \"react\";\nimport axios from \"axios\";\nimport Context from \"../context\";\nimport config from \"../config\";\n\nimport Task from \"../components/Forms/Task\";\n\nexport default function AddTask() {\n  const { state } = useContext(Context);\n  const [validation, setValidation] = useState({});\n\n  const submit = async (data) => {\n    try {\n      const response = await axios.post(`${config.API_URL}/tasks`, data, {\n        headers: { Authorization: `bearer ${state.user.token}` },\n      });\n\n      setValidation({ type: \"success\", message: response.data.message });\n    } catch (ex) {\n      setValidation({ type: \"danger\", message: ex.response.data.message });\n    }\n  };\n\n  return (\n    <div className=\"container\">\n      {validation.type !== \"success\" && <Task submit={submit} />}\n\n      {Object.keys(validation).length > 0 && (\n        <div className={`alert alert-${validation.type}`}>\n          {validation.message}\n        </div>\n      )}\n    </div>\n  );\n}\n","import React, { useContext } from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport Context from \"../context\";\n\nexport default (props) => {\n  const { state } = useContext(Context);\n  return !state.user.token ? (\n    <Redirect\n      to={{\n        pathname: \"/login\",\n      }}\n    />\n  ) : (\n    <Route {...props} />\n  );\n};\n","import React from \"react\";\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\nimport Header from \"./components/Sections/Header\";\nimport Footer from \"./components/Sections/Footer\";\nimport { Home, Login, Register, AddTask } from \"./pages\";\nimport ProtectiveRoute from \"./components/AuthRoute\";\nimport \"./sass/global.scss\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Router>\n        <Header />\n        <ProtectiveRoute exact path=\"/\" component={Home} />\n        <Route path=\"/register\" component={Register} />\n        <ProtectiveRoute path=\"/home\" component={Home} />\n        <Route path=\"/login\" component={Login} />\n        <ProtectiveRoute path=\"/addtask\" component={AddTask} />\n        <Footer />\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","export default (state, { type, payload }) => {\n  switch (type) {\n    case \"USER_LOGIN\":\n      localStorage.setItem(\"token\", payload.token);\n\n      return { ...state, user: payload };\n\n    case \"USER_LOGOUT\":\n      localStorage.removeItem(\"token\");\n\n      return { ...state, user: {} };\n\n    default:\n      return state;\n  }\n};\n","import React, { useEffect, useContext, useReducer } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport jwt_decode from \"jwt-decode\";\n\nimport Context from \"./context\";\nimport reducer from \"./reducer\";\n\nconst Root = () => {\n  const initialState = useContext(Context);\n  const [state, dispatch] = useReducer(reducer, initialState);\n\n  useEffect(() => {\n    const token = localStorage.getItem(\"token\");\n    // console.log(\"token\", token);\n\n    if (token) {\n      const decoded = jwt_decode(token);\n\n      dispatch({\n        type: \"USER_LOGIN\",\n        payload: { token, user_id: decoded.user_id },\n      });\n    }\n  }, []);\n\n  return (\n    <Context.Provider value={{ state, dispatch }}>\n      <App />\n    </Context.Provider>\n  );\n};\nReactDOM.render(<Root />, document.getElementById(\"root\"));\n"],"sourceRoot":""}